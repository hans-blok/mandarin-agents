{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Canon: pull + copy hash",
      "type": "shell",
      "command": "cd ../mandarin-canon; git pull --ff-only; git rev-parse --short HEAD | Set-Clipboard",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "Agent: Execute (Generate + Save)",
      "type": "process",
      "command": "powershell",
      "args": [
        "-Command",
        "$timestamp = Get-Date -Format 'yyyyMMddHHmmss'; $agent = '${input:agentName}'; $intent = '${input:intentName}'; $hashInput = $timestamp + $agent; $md5 = [System.Security.Cryptography.MD5]::Create(); $hashBytes = $md5.ComputeHash([System.Text.Encoding]::UTF8.GetBytes($hashInput)); $hash = [System.BitConverter]::ToString($hashBytes).Replace('-','').Substring(0,4).ToLower(); $filename = \"agent-execution/$hash.$agent.$intent.md\"; [Console]::OutputEncoding = [System.Text.Encoding]::UTF8; $env:PYTHONIOENCODING='utf-8'; python scripts/generate_instructions.py --agent $agent --intent $intent --execution-file $filename; if ($LASTEXITCODE -eq 0) { code $filename }"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "Capability Architect: Definieer Agent Boundary",
      "type": "process",
      "command": "powershell",
      "args": [
        "-Command",
        "$timestamp = Get-Date -Format 'yyyyMMddHHmmss'; $agent = 'capability-architect'; $intent = 'definieer-agent-boundary'; $targetAgent = '${input:targetAgentName}'; $vsf = '${input:valueStreamFase}'; $beschrijving = '${input:korteBeschrijving}'; $hashInput = $timestamp + $agent; $md5 = [System.Security.Cryptography.MD5]::Create(); $hashBytes = $md5.ComputeHash([System.Text.Encoding]::UTF8.GetBytes($hashInput)); $hash = [System.BitConverter]::ToString($hashBytes).Replace('-','').Substring(0,4).ToLower(); $filename = \"agent-execution/$hash.$agent.$intent.md\"; [Console]::OutputEncoding = [System.Text.Encoding]::UTF8; $env:PYTHONIOENCODING='utf-8'; python scripts/generate_instructions.py --agent $agent --intent $intent -p agent_naam=$targetAgent -p value_stream_fase=$vsf -p korte_beschrijving=$beschrijving --execution-file $filename; if ($LASTEXITCODE -eq 0) { code $filename }"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "Agent Smeder: Leg Templates Vast",
      "type": "process",
      "command": "powershell",
      "args": [
        "-Command",
        "$timestamp = Get-Date -Format 'yyyyMMddHHmmss'; $agent = 'agent-smeder'; $intent = 'leg-vast-templates'; $targetAgent = '${input:targetAgentName}'; $hashInput = $timestamp + $agent; $md5 = [System.Security.Cryptography.MD5]::Create(); $hashBytes = $md5.ComputeHash([System.Text.Encoding]::UTF8.GetBytes($hashInput)); $hash = [System.BitConverter]::ToString($hashBytes).Replace('-','').Substring(0,4).ToLower(); $filename = \"agent-execution/$hash.$agent.$intent.md\"; [Console]::OutputEncoding = [System.Text.Encoding]::UTF8; $env:PYTHONIOENCODING='utf-8'; python scripts/generate_instructions.py --agent $agent --intent $intent -p agent_naam=$targetAgent --execution-file $filename; if ($LASTEXITCODE -eq 0) { code $filename }"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "Agent Smeder: Leg Agent Contract Vast",
      "type": "process",
      "command": "powershell",
      "args": [
        "-Command",
        "$timestamp = Get-Date -Format 'yyyyMMddHHmmss'; $agent = 'agent-smeder'; $intent = 'leg-vast-agent-contract'; $targetAgent = '${input:targetAgentName}'; $hashInput = $timestamp + $agent; $md5 = [System.Security.Cryptography.MD5]::Create(); $hashBytes = $md5.ComputeHash([System.Text.Encoding]::UTF8.GetBytes($hashInput)); $hash = [System.BitConverter]::ToString($hashBytes).Replace('-','').Substring(0,4).ToLower(); $filename = \"agent-execution/$hash.$agent.$intent.md\"; [Console]::OutputEncoding = [System.Text.Encoding]::UTF8; $env:PYTHONIOENCODING='utf-8'; python scripts/generate_instructions.py --agent $agent --intent $intent -p agent_naam=$targetAgent --execution-file $filename; if ($LASTEXITCODE -eq 0) { code $filename }"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "Agent Smeder: Leg Agent Prompt Vast",
      "type": "process",
      "command": "powershell",
      "args": [
        "-Command",
        "$timestamp = Get-Date -Format 'yyyyMMddHHmmss'; $agent = 'agent-smeder'; $intent = 'leg-vast-agent-prompt'; $targetAgent = '${input:targetAgentName}'; $hashInput = $timestamp + $agent; $md5 = [System.Security.Cryptography.MD5]::Create(); $hashBytes = $md5.ComputeHash([System.Text.Encoding]::UTF8.GetBytes($hashInput)); $hash = [System.BitConverter]::ToString($hashBytes).Replace('-','').Substring(0,4).ToLower(); $filename = \"agent-execution/$hash.$agent.$intent.md\"; [Console]::OutputEncoding = [System.Text.Encoding]::UTF8; $env:PYTHONIOENCODING='utf-8'; python scripts/generate_instructions.py --agent $agent --intent $intent -p agent_naam=$targetAgent --execution-file $filename; if ($LASTEXITCODE -eq 0) { code $filename }"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "Agent Smeder: Leg Agent Charter Vast",
      "type": "process",
      "command": "powershell",
      "args": [
        "-Command",
        "$timestamp = Get-Date -Format 'yyyyMMddHHmmss'; $agent = 'agent-smeder'; $intent = 'leg-vast-agent-charter'; $targetAgent = '${input:targetAgentName}'; $hashInput = $timestamp + $agent; $md5 = [System.Security.Cryptography.MD5]::Create(); $hashBytes = $md5.ComputeHash([System.Text.Encoding]::UTF8.GetBytes($hashInput)); $hash = [System.BitConverter]::ToString($hashBytes).Replace('-','').Substring(0,4).ToLower(); $filename = \"agent-execution/$hash.$agent.$intent.md\"; [Console]::OutputEncoding = [System.Text.Encoding]::UTF8; $env:PYTHONIOENCODING='utf-8'; python scripts/generate_instructions.py --agent $agent --intent $intent -p agent_naam=$targetAgent --execution-file $filename; if ($LASTEXITCODE -eq 0) { code $filename }"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    }
  ],
  "inputs": [
    {
      "id": "agentName",
      "type": "promptString",
      "description": "Agent naam (bijv. capability-architect, agent-smeder)"
    },
    {
      "id": "intentName",
      "type": "promptString",
      "description": "Intent naam (bijv. definieer-agent-boundary, leg-vast-agent-charter)"
    },
    {
      "id": "targetAgentName",
      "type": "promptString",
      "description": "Naam van de agent (bijv. core-framework-architect, hypothese-vormer)"
    },
    {
      "id": "valueStreamFase",
      "type": "promptString",
      "description": "Value stream fase (bijv. aeo.02, fnd.01)"
    },
    {
      "id": "korteBeschrijving",
      "type": "promptString",
      "description": "Korte beschrijving van de agent capability (1-3 zinnen)"
    }
  ]
}